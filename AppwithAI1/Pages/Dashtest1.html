<!DOCTYPE html>
<!--[if IE 9]>         <html class="ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">

    <title>Project Dashboard</title>


    <meta name="robots" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1.0">

    <!-- Favicons (just the basics for now, check out http://realfavicongenerator.net/ for all available) -->
    <link rel="shortcut icon" href="assets/img/favicon.png">
    <link rel="icon" type="image/png" href="assets/img/favicon.png" sizes="32x32">

    <!-- Web fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:200,300,400,600,700&Open+Sans:300,400,600,700">

    <!-- Bootstrap and Ares CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Include the AnyChart library and the custom CSS file -->
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-gantt.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-data-adapter.min.js"></script>


    <!-- Include the Materialize CSS library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <!-- Page Container -->

    <style>
        /* Add the Materialize grid classes to the containers */

        #container {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100%;
            /* Add the Materialize grid class */
            class ="container"
        }
    </style>

    <div id="page-container">
        <!-- Header -->
        <header id="page-header">
            <div class="h3 text-right pull-right hidden-xs">
                <div class="text-crystal font-w300">USER_LOGGED_IN</div>
            </div>
            <h1 class="h3 font-w200">
                <span class="text-crystal">//</span> <a class="link-sf font-w300" href="index.html">PROJECT_DASHBOARD</a>
            </h1>
            <div class="logo-container"><img src="https://cybereum.io/wp-content/uploads/2018/08/cropped-cropped-cropped-top-logo-2-4-300x300.png" alt="cybereum" width="100" height="100"></div>

        </header>
        <!-- END Header -->
        <!-- Main Content -->
        <main id="page-main">
            <!-- Columns -->
            <div class="row">
                <div class="col-lg-6 col-lg-push-3 overflow-hidden push-0">
                    <h2 class="text-white-op font-weight-bold">GANTT Chart</h2>
                    <div class="circles push-10">

                        <div id="container" style="width: 120%;"></div>
                        <div class="block">
                            <div class="block-header overflow-hidden">
                                <h2 class="block-title visibility-hidden" data-toggle="appear" data-class="animated fadeInDown">MILESTONES</h2>
                            </div>
                            <div class="block-content block-content-full overflow-hidden">
                                <div class="font-w600 text-white-op push-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInRight" data-timeout="100">Milestone1: 95</div>
                                <div class="progress visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                    <div class="progress-bar progress-bar-sf progress-bar-striped active" role="progressbar" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100" style="width: 95%"></div>
                                </div>
                                <div class="font-w600 text-white-op push-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInRight" data-timeout="300">Milestone2: 49</div>
                                <div class="progress visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="300">
                                    <div class="progress-bar progress-bar-sf progress-bar-striped active" role="progressbar" aria-valuenow="49" aria-valuemin="0" aria-valuemax="100" style="width: 49%"></div>
                                </div>
                                <div class="font-w600 text-white-op push-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInRight" data-timeout="500">Milestone3: 59</div>
                                <div class="progress visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="500">
                                    <div class="progress-bar progress-bar-sf progress-bar-striped active" role="progressbar" aria-valuenow="59" aria-valuemin="0" aria-valuemax="100" style="width: 59%"></div>
                                </div>
                                <div class="font-w600 text-white-op push-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInRight" data-timeout="700">Milestone4: +60</div>
                                <div class="progress visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="700">
                                    <div class="progress-bar progress-bar-sf progress-bar-striped active" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%"></div>
                                </div>
                            </div>

                            <script>
                                const activities = fetch("Data/Const2.json")
                                    .then(response => response.json())
                                    .then(data => {
                                        console.log(data);  // log the data to the console
                                    });

                                const progressBar1 = `<div class="block-content block-content-full overflow-hidden">
                                                                <div class="font-w600 text-white-op push-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInRight" data-timeout="100">Milestone1: 95</div>
                                                                <div class="progress visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                                <div class="progress-bar progress-bar-sf progress-bar-striped active" role="progressbar" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100" style="width: 95%"></div>
                                                                </div>
                                                            </div>
                                                            `;

                                document.body.innerHTML += progressBar1;


                            </script>

                            <script>const activities = fetch("Const2.json")
                                    .then(response => response.json())
                                    .then(data => {
                                        data.forEach(activity => {
                                            const startDate = new Date(activity.start);
                                            const endDate = new Date(activity.end);
                                            const currentDate = new Date();  // use actual current date
                                            let completionPercentage;
                                            if (currentDate < startDate) {
                                                completionPercentage = 0;
                                            } else if (currentDate > endDate) {
                                                completionPercentage = 100;
                                            } else {
                                                const totalTime = endDate - startDate;
                                                const elapsedTime = currentDate - startDate;
                                                completionPercentage = (elapsedTime / totalTime) * 100;
                                            }
                                            const progressBar = `
                                                                                                <div class="font-w600 text-white-op push-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInRight" data-timeout="100">${activity.name}: ${completionPercentage}%</div>
                                                                                                <div class="progress visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                                                                  <div class="progress-bar progress-bar-sf progress-bar-striped active" role="progressbar" aria-valuenow="${completionPercentage}" aria-valuemin="0" aria-valuemax="100" style="width: ${completionPercentage}%"></div>
                                                                                                </div>
                                                                                              `;
                                            document.querySelector(".block-content").innerHTML += progressBar;
                                        });
                                    });</script>
                        </div>

                    </div>
                </div>
            </div>
        </main>
</body>
</html>

